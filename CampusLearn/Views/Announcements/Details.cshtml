@model CampusLearn.Models.Announcement
@{
    var replies = ViewBag.Replies as List<CampusLearn.Models.ReplyAnnouncement>;
}

<a asp-action="Index" class="btn btn-link">&larr; Back</a>
<h2>@Model.Topic</h2>
<p class="text-muted">
    Posted @Model.CreatedAt.ToLocalTime().ToString("yyyy-MM-dd HH:mm")
</p>

<p>@Model.Discussion</p>

@if (replies != null && replies.Any())
{
    <hr />
    <h5>Replies</h5>
    @foreach (var r in replies)
    {
        <div class="border rounded p-2 mb-2 bg-light">
            <p>@r.ReplyText</p>
            <small class="text-muted">@r.PostedAt.ToLocalTime().ToString("yyyy-MM-dd HH:mm")</small>
        </div>
    }
}
